apiVersion: v1
type: kubernetes.io/tls
kind: Secret
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZZRENDQkVpZ0F3SUJBZ0lTQTM4dlN2NisrR0ZaZFBRRFZ2cG5PUzVNTUEwR0NTcUdTSWIzRFFFQkN3VUEKTUVveEN6QUpCZ05WQkFZVEFsVlRNUll3RkFZRFZRUUtFdzFNWlhRbmN5QkZibU55ZVhCME1TTXdJUVlEVlFRRApFeHBNWlhRbmN5QkZibU55ZVhCMElFRjFkR2h2Y21sMGVTQllNekFlRncweU1EQXpNak14T1RFek5EQmFGdzB5Ck1EQTJNakV4T1RFek5EQmFNQmN4RlRBVEJnTlZCQU1UREdwaGMyOXVhRzl5Ymk1cGJ6Q0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFLUFQ0NHFMbEc4cW9HaDFMdlZQSG5tbVc1c3B1Ym5MMzFGbQpucFBsNUcrZUlDSGRnN3J4OUpVNVlLZ3gwYlRxSG5KT05jelZGZXkwYkpTOSs5d0FtVUZsRlhHeitWVjZUZnIyCnJIZ3lsRUdRbWxTWWEyV0FQMlV5SkJCd3BhaFRvQzZyUFYwRkg3T01aZ0hqdVM3dDVERHY3dE92ODI2TjhSSngKbW9OQUVJNnpqUTNVb20yV1Y5VUIyeWx1NlpFdjQvV3ZFQ2gzdUY0OU1UMHkveEhoZXQvQktWRDhHTmpzaG5HKwpjRDlSYTNnSlhrcGZ2VjhXendHWDJuTDlaUDdDM1RMcVk0UG02V3o4TkUrTEp5ZkMzc0JpeFdEV1Q4QUFJR1ZhCnZkTE9MV3FMSDFDQ3Z1Z1daSHg4TEdSMSs4bDJFd2JkNCsvajUzSUpuVElnaFBScFpMRUNBd0VBQWFPQ0FuRXcKZ2dKdE1BNEdBMVVkRHdFQi93UUVBd0lGb0RBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSApBd0l3REFZRFZSMFRBUUgvQkFJd0FEQWRCZ05WSFE0RUZnUVVhVzJ2OGxsTlU3ZjhXWHdGZFRROGE5T0JWYUF3Ckh3WURWUjBqQkJnd0ZvQVVxRXBxWXdSOTNicm0wVG0zcGtWbDcvT283S0V3YndZSUt3WUJCUVVIQVFFRVl6QmgKTUM0R0NDc0dBUVVGQnpBQmhpSm9kSFJ3T2k4dmIyTnpjQzVwYm5RdGVETXViR1YwYzJWdVkzSjVjSFF1YjNKbgpNQzhHQ0NzR0FRVUZCekFDaGlOb2RIUndPaTh2WTJWeWRDNXBiblF0ZURNdWJHVjBjMlZ1WTNKNWNIUXViM0puCkx6QW5CZ05WSFJFRUlEQWVnZzRxTG1waGMyOXVhRzl5Ymk1cGI0SU1hbUZ6YjI1b2IzSnVMbWx2TUV3R0ExVWQKSUFSRk1FTXdDQVlHWjRFTUFRSUJNRGNHQ3lzR0FRUUJndDhUQVFFQk1DZ3dKZ1lJS3dZQkJRVUhBZ0VXR21oMApkSEE2THk5amNITXViR1YwYzJWdVkzSjVjSFF1YjNKbk1JSUJCQVlLS3dZQkJBSFdlUUlFQWdTQjlRU0I4Z0R3CkFIVUE4SldrV2ZJQTBZSkFFQzB2azRpT3JVditIVWZqbWVIUU5LYXdxS3FPc25NQUFBRnhDUWVIZEFBQUJBTUEKUmpCRUFpQlpVNm15QllyM0tUNlZXNDE5VitzSGhzckEvRy9XaVFyOStDWVlsMjh4ZkFJZ0ZBWlhKMlZZMDdSZwpJTFh4a2xPQjJUVTRlc2dzMXFXb0Y4b2JsRlNDbXI4QWR3QUh0MXdiNVgxby8vR3d4aDBqRmNlNjVsZDhWNVMzCmF1NjhZVG9hYWRPaUhBQUFBWEVKQjRmRkFBQUVBd0JJTUVZQ0lRRFBFdW4wSkVWaWNZa0lCMGV5alpWak1PZFkKWUlKWEVlaG95TE1CVExFeXBRSWhBS1hseGgyMk9CQXZsOEw5Z3lINHNYNHJjMFRMNlBxbUNrWTlvWWo2QktETApNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUFPM0tVUFlKT0MyZ2lscHZZaDdiYXhTbkJFeDE2SU5yYUZoZmdnCjBRZUx5TW0xVUlWczFKaEpQOWRZQnZZWTlhTFdNaWJkZTlXbEpVbElqTjZQTXJGWCtaS2JCbFp5OGNZRFhGS2oKL0ttZlAxUXExNXJEdkNCeUV4RjdhVGJUNUxEZk1sMjdwRHluTE8wb1dOYVJoWWUxOWgzZDdORzdYQWNxK0ZhYgpXN2djVzZmQ3BENWhQM3h3czJneTRsMEFLK1B5Z3pwYWdVSld1Vk5hMVpTLytJMjluYmNuUGdTcVd1eXpSWFk2ClJ1WnFIUjBPK2J0TUp5QzFsZlV6THp2NVo1UElZMDZUcXIzbW9RWHlQY0p3dFp3TG40ZEZ1K1h3a0x0RUpPQkUKV2g5NTVrTGhUbFhPUS9ZMGlqRVZBSjdRVVV5TFhXUFNGVXNGNWdXTzBybWJ2cVJYCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFa2pDQ0EzcWdBd0lCQWdJUUNnRkJRZ0FBQVZPRmMyb0xoZXluQ0RBTkJna3Foa2lHOXcwQkFRc0ZBREEvCk1TUXdJZ1lEVlFRS0V4dEVhV2RwZEdGc0lGTnBaMjVoZEhWeVpTQlVjblZ6ZENCRGJ5NHhGekFWQmdOVkJBTVQKRGtSVFZDQlNiMjkwSUVOQklGZ3pNQjRYRFRFMk1ETXhOekUyTkRBME5sb1hEVEl4TURNeE56RTJOREEwTmxvdwpTakVMTUFrR0ExVUVCaE1DVlZNeEZqQVVCZ05WQkFvVERVeGxkQ2R6SUVWdVkzSjVjSFF4SXpBaEJnTlZCQU1UCkdreGxkQ2R6SUVWdVkzSjVjSFFnUVhWMGFHOXlhWFI1SUZnek1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQVE4QU1JSUJDZ0tDQVFFQW5OTU04RnJsTGtlM2NsMDNnN05vWXpEcTF6VW1HU1hodmI0MThYQ1NMN2U0UzBFRgpxNm1lTlFoWTdMRXF4R2lIQzZQamRlVG04NmRpY2JwNWdXQWYxNUdhbi9QUWVHZHh5R2tPbFpIUC91YVo2V0E4ClNNeCt5azEzRWlTZFJ4dGE2N25zSGpjQUhKeXNlNmNGNnM1SzY3MUI1VGFZdWN2OWJUeVdhTjhqS2tLUURJWjAKWjhoL3BacTRVbUVVRXo5bDZZS0h5OXY2RGxiMmhvbnpoVCtYaHErdzNCcnZhdzJWRm4zRUs2QmxzcGtFTm5XQQphNnhLOHh1UVNYZ3ZvcFpQS2lBbEtRVEdkTURRTWMyUE1UaVZGcnFvTTdoRDhiRWZ3ekIvb25reEV6MHROdmpqCi9QSXphcms1TWNXdnhJME5IV1FXTTZyNmhDbTIxQXZBMkgzRGt3SURBUUFCbzRJQmZUQ0NBWGt3RWdZRFZSMFQKQVFIL0JBZ3dCZ0VCL3dJQkFEQU9CZ05WSFE4QkFmOEVCQU1DQVlZd2Z3WUlLd1lCQlFVSEFRRUVjekJ4TURJRwpDQ3NHQVFVRkJ6QUJoaVpvZEhSd09pOHZhWE55Wnk1MGNuVnpkR2xrTG05amMzQXVhV1JsYm5SeWRYTjBMbU52CmJUQTdCZ2dyQmdFRkJRY3dBb1l2YUhSMGNEb3ZMMkZ3Y0hNdWFXUmxiblJ5ZFhOMExtTnZiUzl5YjI5MGN5OWsKYzNSeWIyOTBZMkY0TXk1d04yTXdId1lEVlIwakJCZ3dGb0FVeEtleHBIc3NjZnJiNFV1UWRmL0VGV0NGaVJBdwpWQVlEVlIwZ0JFMHdTekFJQmdabmdRd0JBZ0V3UHdZTEt3WUJCQUdDM3hNQkFRRXdNREF1QmdnckJnRUZCUWNDCkFSWWlhSFIwY0RvdkwyTndjeTV5YjI5MExYZ3hMbXhsZEhObGJtTnllWEIwTG05eVp6QThCZ05WSFI4RU5UQXoKTURHZ0w2QXRoaXRvZEhSd09pOHZZM0pzTG1sa1pXNTBjblZ6ZEM1amIyMHZSRk5VVWs5UFZFTkJXRE5EVWt3dQpZM0pzTUIwR0ExVWREZ1FXQkJTb1NtcGpCSDNkdXViUk9iZW1SV1h2ODZqc29UQU5CZ2txaGtpRzl3MEJBUXNGCkFBT0NBUUVBM1RQWEVmTmpXRGpkR0JYN0NWVytkbGE1Y0VpbGFVY25lOElrQ0pMeFdoOUtFaWszSkhSUkhHSm8KdU0yVmNHZmw5NlM4VGloUnpadm9yb2VkNnRpNldxRUJtdHp3M1dvZGF0ZytWeU9lcGg0RVlwci8xd1hLdHg4Lwp3QXBJdkpTd3RtVmk0TUZVNWFNcXJTREU2ZWE3M01qMnRjTXlvNWpNZDZqbWVXVUhLOHNvL2pvV1VvSE9VZ3d1Clg0UG8xUVl6KzNkc3prRHFNcDRma2x4QndYUnNXMTBLWHpQTVRaK3NPUEF2ZXl4aW5kbWprVzhsR3krUXNSbEcKUGZaK0c2WjZoN21qZW0wWStpV2xrWWNWNFBJV0wxaXdCaThzYUNiR1M1ak4ycDhNK1grUTdVTktFa1JPYjNONgpLT3FrcW01N1RIMkgzZURKQWtTbmg2L0RORnUwUWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBOWwvUll4TDlCd1NSNC8wbisrRngvc0pMeFlYU0gzYkVVNklBRlp1QXhqR2FveEJICnlNbHduMEw3bVF1THQ0SnErZGNNOVZvUkVNT3p6ME03clpyWjJpb1dSTEkrZVp6b1ZMSFZiUnlBUHhVZ2gwZDUKa0dTTVlVUnp6RTBHVEc2eGlPOElHY29JM25rMWNDTjdGd1BNLy9wUG14a3RFMWM3TzJWVTJqbERwMEVabmdpTgorQmpTSUdQTFNjdE40SDF3OUhvcnQrSUpKOUc4SGNpWEExSUFCdlQzZjBBZjVsc2ZueGZPeWs3S3doRDZIRGpkCmErL1E3cEVmc3dLT2dIald1VVhReWpKQ1Y2UWU2bW1adlJVa2hmVFdpTUUvRU8wWW5EQzBuNG94dFc1MXhaUWkKV2locTI4QzF4dHpxQ2E5ZC90aU1lcXFHTHlsQllob1J3Y3BieHdJREFRQUJBb0lCQVFEUWdiY0xTZjZwK2N3ZQpUeG1QcWZSM3pxZWh1dWRoaVhvTjdZUjB4TzN1emZ3NUZJWXIvNDg0dWMrRWJxa0gzVy83a1d4K0dJTm8xTGRRCktXNVFOa1U0eFhXakhkYVJ4YUU2VEdaN3VTc3dPQWtYYy80Rm5aTFFuc1lCbVE1RGtVcmV3S3p5Wm5HckZwbUwKRmZ3T05rRkFRZTh0SzlsaURPa3NFMDRFZ1lJb0FOODhONU1TZHlqblQ2S0lhMUJIZEUvSWUwc3krdER3YTlpaQpvb0xrTm9rT3VrWnRGZUZpdW51WWcrMGZjSVoxQVQ1Sm8wOFpmR3JtWWF4RUxPcUorWWYvbllTRFllWnplYnROCjlNRzY1QUlsSEh0bDYvZUpLWDBnZVBrOWM4Mml6T3dhKzF4dEZteXNML2t2YVRiQW5XYkxuUzc3RHdIREVKMEEKcXBtSDJGMEJBb0dCQVBsd2hoOTNLUUZRTE5TL0NEcGNQaWJWK2drYnBJdVh3NFp3YUUvbituQVBtUnYrQWR1bwppWmdpQWlIcStYODVVZnlJL0xRVE8yai9GNnpqQXFIT2Q5WFBXYTJiTGJ3WitxQnNRR1RwZ3Z3M05GcjUrejJGCnZUSk1yYmJuSzdWbjQ3N3d4S2xqVks4NmRKMllHN3Z2RjdVbzFYSEVldGVSTnFCMTNuSy9DK0t4QW9HQkFQemEKcDliOTE5OXhVTHBrSmdnWUVybUpSZU5CVnlLYUU3VGo3NzRDdmxZNmVRcU0wVmhtVHFOdFNIVTJDeWpmaFZYcwpTbFpWOUw3cTMrY1pTa0tmNUZjOUlDVS9UeEV6Z2NUREl1VEdaakdTRW4yS1llQ29LeHQ1Sy9PSlJFRXhVY2YzCkFWeFlhQVBYMEZXZzROVktpZU9uRC9FMC90aGVrdUhVclRxUVY1UDNBb0dBTmlCWnFraEVLSm5LTUp3SFlBcVcKSGYwK2xXMWZKajlYV1R2WkZzWEN6VUJGUEJMQk9uWDI3WUVycjBwNnUwV242Y0diL0VOVUYvT0tvcVJiOU5xRgpuR3F6RGYzblRiTGhkS0FvMVB6cXhHb0NQVitUU2dWVVNhN2ozeFdJb1lPYW90dENBWE9oYzZpZWwzZmpSTU9jCkJGNkkrbmZsSkJQSm84WVA4QnhPcXZFQ2dZRUFqcFZPWi9Ha3RaOVVnb2JPMjJtWHhZQWZKTk5IcTM5dTlXWkQKWHNaMVJuS2FwdFJaaUp2SVpHZlBvQ2psaWhyaE9WNlJYTFlEMlZUaEJaUkJSK2laL29lOWhNTjZkcHl3NUorVgpJYVN2SSt6VytHdjhYWTczSC9yb1NlQngyTUZTK0l2VS9KbnRyWjBaSWZBaVdLUTd0V0FUb1ZUZEVHM2tMZXliCjhwWktqR2tDZ1lCZFBFRDRWQjhJTzRrN3I4U2sxcWV0NklnVXBnKzNDanNldnlEZ3ZFR2UxY3FuWVdCVS9vRG8KdTZwcnJjTTZVRmFYRTNocWFNWFFwL0JPcE5jbXphbnpGVmwxYTNwYlljVFRQL3BEZVB6QUp3d3hTczVpYlRkSQpZNzRPRGJaOW54ZHhzVHphZlJ5TC90UVBDajlMRElTbzcrcmZqQlVTVk9KbHR6UFJOM1JwYlE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
metadata:
  name: tls-custom-cert
  namespace: bootstrap
---

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: bootstrap
  namespace: bootstrap
  labels:
    app: bootstrap
spec:
  replicas: 1
  revisionHistoryLimit: 10
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: bootstrap
  template:
    metadata:
      labels:
        app: bootstrap
    spec:
      containers:
        - image:  quay.io/jhorn/kubesealer-oc-ubi
          imagePullPolicy: Always
          name: bootstrap
          command: ["/bin/bash", "-c"]
          args: [ "while true;  do sleep 1000; done;"]
          volumeMounts:
            - mountPath: /run/bootstrap/tlscert
              name: tls-certs
            - mountPath: /run/bootstrap/idp
              name: idp-secret
            - mountPath: /run/bootstrap/git
              name: git
      volumes:
        - name: tls-certs
          secret:
            secretName: tls-custom-cert
        - name: idp-secret
          secret:
            secretName: idp-secret
        - name: git
          secret:
            secretName: repo-github
      restartPolicy: Always
      serviceAccountName: bootstrap

